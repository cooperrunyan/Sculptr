{"/dockerfile":"FROM hayd/ubuntu-deno:1.5.2\n\nEXPOSE 3000\nWORKDIR /usr/app\n\nRUN deno install -qAfn vr --no-check https://deno.land/x/velociraptor@1.4.0/cli.ts\n\nCOPY src/deps.ts ./src/deps.ts\nRUN deno cache --unstable src/deps.ts\n\nADD . .\nRUN deno cache --unstable src/server/server.ts\n\nENTRYPOINT [ \"/usr/local/bin/vr\" ]\n\nCMD [\"local\"]","/.env":"PORT=3000","/docker-compose.yml":"version: '3.7'\n\nservices:\n  api:\n    build:\n      context: ./\n      dockerfile: dockerfile\n    image: api:dev\n    container_name: api\n    restart: always\n    volumes:\n      - ./:/usr/app\n    ports:\n      - 3000:3000\n    environment:\n      - PORT=3000\n","/.vscode/settings.json":"{\n  \"deno.enable\": true,\n  \"deno.lint\": false,\n  \"deno.unstable\": true\n}\n","/scripts.yml":"scripts:\n  local: deno run --allow-net --allow-env --allow-read src/server/server.ts\n  test: deno test -A src/server/test/index.spec.ts\n  build: docker-compose build\n  start: docker-compose up\n  dev: docker-compose up --build\n","/src/server/routers/route.ts":"import { oak } from '../../deps.ts';\n\nexport const test = new oak.Router({ prefix: '/api/test' });\n\ntest.get('/', async (ctx) => {\n  ctx.response.body = {\n    message: 'hello world from /api/test',\n  };\n});\n","/src/server/routers/index.ts":"export { test } from './route.ts';\n","/src/server/middleware/logger.ts":"import { oak } from '../../deps.ts';\n\nexport async function logger(ctx: oak.Context, next: () => Promise<unknown>) {\n  console.log(`${ctx.request.method} ${ctx.request.url.pathname}`);\n  await next();\n}\n","/src/server/middleware/index.ts":"export { logger } from './logger.ts';\n","/src/server/test/index.spec.ts":"import * as t from 'https://deno.land/std@0.125.0/testing/asserts.ts';\n\nDeno.test('should return a json response', async () => {\n  const res = await fetch(`http://localhost:${Deno.env.get('PORT')}/api/test`);\n  const data = await res.json();\n  t.assertStringIncludes(data.message, '');\n});\n","/src/server/app.ts":"import { oak } from '../deps.ts';\nimport * as routers from './routers/index.ts';\nimport * as middlewares from './middleware/index.ts';\n\nexport const app = new oak.Application();\n\napp.addEventListener('listen', (e) => console.log(`App running on port: ${e.port}`));\napp.addEventListener('error', (e) => console.error(e.error));\n\nObject.values(middlewares).forEach((middleware) => {\n  app.use(middleware);\n});\n\nObject.values(routers).forEach((router) => {\n  app.use(router.routes());\n  app.use(router.allowedMethods());\n});\n","/src/server/server.ts":"import { app } from './app.ts';\nimport { config as env } from 'https://deno.land/x/dotenv/mod.ts';\n\nObject.entries(env()).forEach(([key, value]) => Deno.env.set(key, value));\n\nawait app.listen({ port: +Deno.env.get('PORT')! });\n","/src/deps.ts":"export * as oak from 'https://deno.land/x/oak@v6.5.1/mod.ts';\n"}